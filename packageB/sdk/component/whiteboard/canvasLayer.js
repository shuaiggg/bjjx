define(function(require,exports,module){"use strict";var a=BJY.auth,n=BJY.eventEmitter,i=BJY.data.doc,r=BJY.data.page,g=BJY.data.shape,c=require("./painter");exports.init=function(e){exports.element=e;var t=exports.canvasElement=e.find("canvas");c.init(t,e);a.canPaint()},exports.setPage=function(t){n.trigger(n.PAGE_SHAPE_LOAD_START);var e=i.getComplexPage(t);g.load(e.docId,e.page).done(function(e){t===r.getClientPage()&&(c.create(e),n.trigger(n.CURRENT_PAGE_SHAPE_LOAD_END)),n.trigger(n.PAGE_SHAPE_LOAD_END)})},exports.resize=function(e,t){c.resize(e,t)}});