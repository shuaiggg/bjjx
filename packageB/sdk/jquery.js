var fnToString,getProto=Object.getPrototypeOf,class2type={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"},arr=[],slice=(getProto=Object.getPrototypeOf,arr.slice),concat=arr.concat,push=arr.push,indexOf=arr.indexOf,toString=(class2type={}).toString,hasOwn=class2type.hasOwnProperty,ObjectFunctionString=(fnToString=hasOwn.toString).call(Object),isFunction=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType};ObjectFunctionString=(fnToString=(hasOwn={}.hasOwnProperty).toString).call(Object);exports.now=Date.now,exports.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?class2type[toString.call(t)]||"object":typeof t},exports.isNumeric=function(t){var e=exports.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},exports.isArrayLike=function(t){var e=module.exports,r=t.length,n=e.type(t);return"function"!==n&&(!(1!==t.nodeType||!r)||("array"===n||0===r||"number"==typeof r&&0<r&&r-1 in t))},exports.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?class2type[toString.call(t)]||"object":typeof t},exports.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},exports.merge=function(t,e){for(var r=+e.length,n=0,o=t.length;n<r;n++)t[o++]=e[n];return t.length=o,t},exports.map=function(t,e,r){var n,o=module.exports,i=0,c=t.length,s=[];if(o.isArrayLike(t))for(;i<c;i++)null!=(n=e(t[i],i,r))&&s.push(n);else for(i in t)null!=(n=e(t[i],i,r))&&s.push(n);return concat.apply([],s)},exports.isArray=Array.isArray,exports.isFunction=isFunction,exports.trim=function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};var rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;function fcamelCase(t,e){return e.toUpperCase()}exports.camelCase=function(t){return t.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},exports.inArray=function(t,e,r){return null==e?-1:function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}.call(e,t,r)},exports.each=function(t,e){var r,n=0;if(exports.isArrayLike(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},exports.isPlainObject=function(t){var e,r;return!(!t||"[object Object]"!==toString.call(t))&&(!(e=getProto(t))||"function"==typeof(r=hasOwn.call(e,"constructor")&&e.constructor)&&fnToString.call(r)===ObjectFunctionString)},exports.extend=function(){var t,e,r,n,o,i,c=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[s]||{},s++),"object"==typeof c||isFunction(c)||(c={}),s===a&&(c=this,s--);s<a;s++)if(null!=(t=arguments[s]))for(e in t)r=c[e],c!==(n=t[e])&&(u&&n&&(exports.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,i=r&&Array.isArray(r)?r:[]):i=r&&exports.isPlainObject(r)?r:{},c[e]=exports.extend(u,i,n)):void 0!==n&&(c[e]=n));return c};var rnothtmlwhite=/[^\x20\t\r\n\f]+/g;function createOptions(t){var r={};return exports.each(t.match(rnothtmlwhite)||[],function(t,e){r[e]=!0}),r}function Identity(t){return t}function Thrower(t){throw t}function adoptValue(t,e,r,n){var o;try{t&&isFunction(o=t.promise)?o.call(t).done(e).fail(r):t&&isFunction(o=t.then)?o.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}exports.Callbacks=function(n){n="string"==typeof n?createOptions(n):exports.extend({},n);var r,t,e,o,i=[],c=[],s=-1,a=function(){for(o=o||n.once,e=r=!0;c.length;s=-1)for(t=c.shift();++s<i.length;)!1===i[s].apply(t[0],t[1])&&n.stopOnFalse&&(s=i.length,t=!1);n.memory||(t=!1),r=!1,o&&(i=t?[]:"")},u={add:function(){return i&&(t&&!r&&(s=i.length-1,c.push(t)),function r(t){exports.each(t,function(t,e){isFunction(e)?n.unique&&u.has(e)||i.push(e):e&&e.length&&"string"!==toType(e)&&r(e)})}(arguments),t&&!r&&a()),this},remove:function(){return exports.each(arguments,function(t,e){for(var r;-1<(r=exports.inArray(e,i,r));)i.splice(r,1),r<=s&&s--}),this},has:function(t){return t?-1<exports.inArray(t,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return o=c=[],i=t="",this},disabled:function(){return!i},lock:function(){return o=c=[],t||r||(i=t=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),r||a()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},exports.Deferred=function(t){var i=[["notify","progress",exports.Callbacks("memory"),exports.Callbacks("memory"),2],["resolve","done",exports.Callbacks("once memory"),exports.Callbacks("once memory"),0,"resolved"],["reject","fail",exports.Callbacks("once memory"),exports.Callbacks("once memory"),1,"rejected"]],o="pending",c={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return c.then(null,t)},pipe:function(){var o=arguments;return exports.Deferred(function(n){exports.each(i,function(t,e){var r=isFunction(o[e[4]])&&o[e[4]];s[e[1]](function(){var t=r&&r.apply(this,arguments);t&&isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,r?[t]:arguments)})}),o=null}).promise()},then:function(e,r,n){var a=0;function u(o,i,c,s){return function(){var r=this,n=arguments,t=function(){var t,e;if(!(o<a)){if((t=c.apply(r,n))===i.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,isFunction(e)?s?e.call(t,u(a,i,Identity,s),u(a,i,Thrower,s)):(a++,e.call(t,u(a,i,Identity,s),u(a,i,Thrower,s),u(a,i,Identity,i.notifyWith))):(c!==Identity&&(r=void 0,n=[t]),(s||i.resolveWith)(r,n))}},e=s?t:function(){try{t()}catch(t){exports.Deferred.exceptionHook&&exports.Deferred.exceptionHook(t,e.stackTrace),a<=o+1&&(c!==Thrower&&(r=void 0,n=[t]),i.rejectWith(r,n))}};o?e():(exports.Deferred.getStackHook&&(e.stackTrace=exports.Deferred.getStackHook()),setTimeout(e))}}return exports.Deferred(function(t){i[0][3].add(u(0,t,isFunction(n)?n:Identity,t.notifyWith)),i[1][3].add(u(0,t,isFunction(e)?e:Identity)),i[2][3].add(u(0,t,isFunction(r)?r:Thrower))}).promise()},promise:function(t){return null!=t?exports.extend(t,c):c}},s={};return exports.each(i,function(t,e){var r=e[2],n=e[5];c[e[1]]=r.add,n&&r.add(function(){o=n},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=r.fireWith}),c.promise(s),t&&t.call(s,s),s},exports.Deferred.exceptionHook=function(t,e){console.error(t),console.error(e)},exports.grep=function(t,e,r){for(var n=[],o=0,i=t.length,c=!r;o<i;o++)!e(t[o],o)!==c&&n.push(t[o]);return n};