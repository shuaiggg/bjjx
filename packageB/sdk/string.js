var $=require("./jquery");function getCharUTF8Length(r){var t=r.charCodeAt(0);return 0==(-128&t)?1:0==(-2048&t)?2:0==(-65536&t)?3:4}function traverse(r,t){for(var e=0,n=0,u=r.length;n<u&&!1!==t(e+=Math.floor((getCharUTF8Length(r.charAt(n))+1)/2),n+1);n++);}exports.size=function(r){var t=0;return"string"===$.type(r)&&traverse(r,function(r){t=r}),t},exports.cut=function(e,n,r){if("number"!==$.type(n)||exports.size(e)<=n)return e;var u="";return traverse(e,function(r,t){if(n<r)return!1;u=e.substr(0,t)}),r="string"===$.type(r)?r:"...",u+r};